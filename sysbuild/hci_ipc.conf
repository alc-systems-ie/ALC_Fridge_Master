# FEM (Front-End Module) configuration for Thingy:53 net core.
# Enables the nRF21540 FEM with runtime TX power and PA gain control.
#
# nRF21540 has two output power modes controlled by MODE pin (P1.12):
#   - POUTA (MODE=0): +20 dB gain (high power)
#   - POUTB (MODE=1): +10 dB gain (standard power)
#
# With runtime PA gain control enabled, the MPSL driver automatically
# switches between POUTA and POUTB based on requested TX power level.
#
# Effective TX power at antenna = SoC TX power + FEM gain.
# EU EIRP limit for 2.4 GHz is +20 dBm.

CONFIG_MPSL_FEM=y
CONFIG_MPSL_FEM_NRF21540_GPIO=y
CONFIG_MPSL_FEM_NRF21540_TX_GAIN_DB_POUTA=20
CONFIG_MPSL_FEM_NRF21540_TX_GAIN_DB_POUTB=10

# Enable runtime PA gain control - allows switching between POUTA/POUTB.
CONFIG_MPSL_FEM_NRF21540_RUNTIME_PA_GAIN_CONTROL=y

# Enable runtime TX power control via HCI vendor commands.
CONFIG_BT_CTLR_TX_PWR_DYNAMIC_CONTROL=y

# Default SoC TX power: 0 dBm.
CONFIG_BT_CTLR_TX_PWR_0=y
