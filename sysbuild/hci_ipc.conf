# FEM (Front-End Module) configuration for Thingy:53 net core.
# Enables the nRF21540 FEM with runtime TX power control.
#
# nRF21540 has two output power modes:
#   - POUTA (MODE=0): +20 dB gain (high power)
#   - POUTB (MODE=1): +10 dB gain (standard power, default)
#
# Effective TX power at antenna = SoC TX power + FEM gain.
# Example: SoC at 0 dBm + POUTB (+10 dB) = +10 dBm at antenna.
#
# EU EIRP limit for 2.4 GHz is +20 dBm, so POUTB gives headroom.

CONFIG_MPSL_FEM=y
CONFIG_MPSL_FEM_NRF21540_GPIO=y
CONFIG_MPSL_FEM_NRF21540_TX_GAIN_DB_POUTB=10

# Enable runtime TX power control via HCI vendor commands.
CONFIG_BT_CTLR_TX_PWR_DYNAMIC_CONTROL=y

# Default SoC TX power: 0 dBm (gives +10 dBm at antenna with POUTB).
CONFIG_BT_CTLR_TX_PWR_0=y
